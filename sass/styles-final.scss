/* Import _base.scss variables */
@import "base";

@import "custom"; 

@import "normalize";

$sans-serif-fallback: Helvetica, "Lucida Sans", "Lucida Grande", "Lucida Sans Unicode", sans-serif;
$serif-fallback: Georgia, "Times New Roman", Times, serif;

$sans-serif: "Fira Sans", $sans-serif-fallback;
$serif: 'Ysobel W01', $serif-fallback;
$display: 'ITC Magnifico W01', $serif-fallback;
$initial-cap: 'ITC Magnifico W01', $serif-fallback;
$smallcaps: 'Ysobel W01', $serif-fallback;

@import "rwt_scaffold";

/******** HELPERS ********/

/* apply a natural box layout model to all elements */
* { 
	-moz-box-sizing: border-box; 
	-webkit-box-sizing: border-box; 
	box-sizing: border-box; 
}

/* end update for semantics */

/*
 * Clearfix: contain floats
 *
 * For modern browsers
 * 1. The space content is one way to avoid an Opera bug when the
 *    `contenteditable` attribute is included anywhere else in the document.
 *    Otherwise it causes space to appear at the top and bottom of elements
 *    that receive the `clearfix` class.
 * 2. The use of `table` rather than `block` is only necessary if using
 *    `:before` to contain the top-margins of child elements.
 */
/* line 175, ../sass/h5bp_main.scss */
.clearfix:before,
.clearfix:after {
  content: " ";
  /* 1 */
  display: table;
  /* 2 */
}

/* line 180, ../sass/h5bp_main.scss */
.clearfix:after {
  clear: both;
}

/*
 * For IE 6/7 only
 * Include this rule to trigger hasLayout and contain floats.
 */
/* line 189, ../sass/h5bp_main.scss */
.clearfix {
  *zoom: 1;
}

/* useful resets from HTML5 BoilerPlate */

/*
 * Remove the gap between images and the bottom of their containers: h5bp.com/i/440
 */
/* line 59, ../sass/h5bp_main.scss */
img {
  vertical-align: middle;
}

/*
 * Remove default fieldset styles.
 */
/* line 67, ../sass/h5bp_main.scss */
fieldset {
  border: 0;
  margin: 0;
  padding: 0;
}

/*
 * Allow only vertical resizing of textareas.
 */
/* line 77, ../sass/h5bp_main.scss */
textarea {
  resize: vertical;
}

/* Minimal page design to provide visual structure */

/* layout styles */
body {
	background-color: $body-background;
}

.page {
	background-color: #fdfdfd;
	margin-top: 1em;
	margin-bottom: 2em;
}

.layout {
	clear: both;
	margin-bottom: 0;
	padding-bottom: 1em;
	@include clearfix;
	&.border-left {
		border-left: 3em solid $color-gray;
		padding-right: 3em;
		&.half {
			padding-right: 0;
		}
	}
	&.border-right {
		border-right: 3em solid $color-gray;
		padding-left: 3em;
		&.half {
			padding-left: 0;
		}
	}
	&.blue {
		border-color: $color-blue;
	}
	&.blue-pale {
		border-color: $color-blue-pale;
	}
	&.rust {
		border-color: $color-rust;
	}
	&.gold-pale {
		border-color: $color-gold-pale;
	}
	&.orange {
		border-color: $color-orange;
	}
	.half,
	&.half {
		width: 50%;
	}
	.two-thirds {
		width: 66%;
	}
	.full-width {
		clear: both;
		width: 100%;
	}
	.left {
		clear: left;
		float: left;
	}
	.right {
		clear: right;
		float: right;
	}
	.clear {
		clear: both;
	}
	&.float-left {
		float: left;
		clear: left;
	}
	&.float-right {
		float: right;
		clear: right;
	}
	.float-left {
		float: left;
		margin-right: -50%;
		width: 47.5%; 
		padding-right: 1em;
		text-align: right;
	}
	.float-right {
		float: right;
		margin-left: -50%;
		width: 47.5%; 
		padding-left: 1em;
		text-align: left;
	}
}
p {
	&.right {
		padding-right: 5em;
	}
	&.left {
		padding-left: 5em;
		.border-right & {
			padding-left: 2em;
		}
	}
}
blockquote {
	&.rust {
		p {
			color: $color-rust;
		}
	}
	&.gold-pale {
		p {
			color: $color-gold-pale;
		}
	}
	&.blue {
		p {
			color: $color-blue;
		}
	}
	&.blue-pale {
		p {
			color: $color-blue-pale;
		}
	}
	&.orange {
		p {
			color: $color-orange;
		}
	}
}
/* /layout styles */

img {
	width: 100%; 
	max-width: 100%; 
	height: auto;
}


figure {
	&.content-narrow {
		padding-right: 10%;
		&.left {
			padding-left: 5em;
			.border-right & {
				padding-left: 2em;
			}
		}
	}
	margin-bottom: 1em;
	position: relative;
	.border-right &.full-width {
		margin-left: -3em;
		width: auto;
	}
	.border-right &.half.left {
		margin-left: -3em; 
		width: 55%;
	}
}
figcaption {
	font-family: $serif;
	font-size: (12 / $text-base-size) * 1em; 
	font-style: italic;
	color: $color-gray;
	&.right-side {
		position: absolute; 
		right: -38%;
		top: 40%;
		width: 62.5%;
		@include transform(rotate(-90deg), origin(top, right));
	}
	&.above {
		position: absolute; 
		top: -3em; 
		left: 0;
	}
	&.right-side-above {
		position: absolute; 
		right: -11%;
		top: -29%;
		width: 30%;
		@include transform(rotate(-90deg), origin(top, right));
	}
	&.padded {
		padding: 0.15em;
	}
}


/* paragraph styles */
p {
	&.intro {
		font-size: (20 / $text-base-size) * 1em; 
		color: $color-blue;
	}
}
/* open type features */
p {
	//@include otfeatures($liga: 1, $clig: 1, $dlig: 1, $kern: 1);
	padding-bottom: 1em;
	.article-text > &:first-of-type {
		text-indent: 0;
	}
	.article-text > &:last-of-type {
		&:after {
/*
			content: "\00A7";
			text-align: center;
			display: block;
			margin: 1em 0;
			text-shadow: 2px 0 0 #ffffff, 2px 0 0 #ffffff, -2px 0 0 #ffffff, -2px 0 0 #ffffff;
			@include background-image(linear-gradient(to bottom, rgba(#000000, 0) 75%, rgba(#000000, 0.85) 75%, transparent));
			background-repeat: repeat-x;
			background-size: 2px 2px;
			background-position: 0 0.55em;
*/
		}
	}
}

h1 {
	//@include otfeatures($liga: 1, $clig: 1, $dlig: 1, $kern: 1);
}

.page > header {
	margin-bottom: 1em;
	h1 {
		margin: 0.25em 0 0.15em 0;
	}
}

article > header {
	padding-top: 2em;
	figure {
		margin-bottom: 0;
	}
}

.title {
	font-family: $display;
	font-size: 4vw;
	color: $color-gold; 
	float: left; 
	width: 100%; 
	margin-right: -100%; 
	margin-top: -0.75em;
	.second-half {
		display: block;
		font-size: 3.25em;
	}
	label {
		
	}
	.wf-inactive & {
		
	}
}

.author {
	display: block;
	font-family: $serif;
	font-style: italic; 
	text-align: right; 
	width: 20em; 
	float: right;
	padding-right: 3em;
	.wf-inactive & {
		font-family: $serif-fallback;
		margin-bottom: 0.05em;
	}
}

/* Blockquote styles */

blockquote {
	margin: 1em auto;
	p {
		width: 90%; 
		margin: 0 auto 0 auto; 
		padding-top: 0.5em;
		padding-bottom: 1em;
		padding-right: 0;
		font-size: 2.25em; 
		line-height: 1.2em; 
		text-indent: 0;
		font-family: $serif; 
		font-style: italic; 
		font-weight: 200;
		position: relative;
		&:before {
			content: "\201C";
			font-family: $serif;
			font-size: 1.5em;
			font-style: italic; 
			font-weight: 200;
			//color: lighten($text-color, 15%);
			position: absolute;
			top: 0.45em;
			left: -0.45em;
		    
		}
		
		&:after {
			content: "\201D"; 
			font-family: $serif;
			font-size: 1.5em;
			font-style: italic; 
			font-weight: 200;
			//color: lighten($text-color, 15%);
			position: relative;
			bottom: -0.2em;
			right: 0.05em; 
			display: inline;
		    line-height: .2em;
		}
	}
	&.float-left {
		p {
			&:before {
				display: inline;
				position: relative;
				left: -0.1em;
				top: 0.2em;
			}
			&:after {
				position: absolute; 
				bottom: 1em;
				right: -0.35em;
			}
		}
	}
	.layout &.float-right {
		width: 40%; 
		margin-right: 10%;
	}
}



/* Make sure this is last - helps correct for an orientation scale bug in iOS */

@media screen and (orientation:landscape) and (device-width:320px) and (device-height: 480px) {
	body {
		width: 480px;
	}
}/*/mediaquery*/

